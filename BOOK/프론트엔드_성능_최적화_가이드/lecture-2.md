# letcture-2 올림픽 통계 서비스 최적화

- css 애니메이션 최적화
- 컴포넌트 지연 로딩 : 단일 컴포넌트를 분할하여 컴포넌트가 쓰이는 순간에 불러오도록 만듦.
- 컴포넌트 사전 로딩 : 코드를 분할하여 첫 화면 진입 시에는 다운로드하지 않지만, 이후 해당 코드가 필요한 시점보다는 먼저 코드를 로드하여 해당 코드를 지연 없이 사용할 수 있도록 하는 컴포넌트 사전 로딩
- 이미지 사전 로딩 : 필요한 시점보다 먼저 다운로드해 두고, 필요할 때 바로 이미지를 보여줄 수 있도록.

- 브라우저 렌더링 과정

  - DOM + CSSOM > 렌더 트리 > 레이아웃 > 페인트 > 컴포지트
    - DOM + CSSOM : html, css 등 화면에 필요한 리소스를 다운. 다운로드한 html 은 브라우저가 이해할 수 있는 형태로 변환하는 가정을 거치고 요서 간의 관계가 트리구조로 표현되어 있는 DOM을 만든다.
    - 렌더 트리 : DOM과 CSSOM의 결합으로 생성. 화면에 표시되는 각 요소의 레이아웃을 계산하는 데 사용된다.
    - 레이아웃 : 화면 구성 요소의 위치나 크기를 계산하고, 해당 위치에 요소를 배치하는 작업.
    - 페인트 : 화면에 배치된 요소에 색을 채워 넣는 작업. 글자 색을 결정, 배경 색 채우기.. 효율적인 페인트 과정을 위해 구성 요소를 여러 개의 에이어로 나눠 작업하기도 함.
    - 컴포지트 : 각 레이어를 합성하는 작업. 레이어를 하나로 합성하는 단계.

- 컴포넌트 지연 로딩

  - 번들 파일 분석 : 사이즈가 큰 라이브러리를 분석한다.
  - 모달 코드 분리하기 : 분할하고자 하는 컴포넌트를 import함수와 함께 lazy 함수의 인자로 넘겨준다. 또한 에러를 방지하ㅣ 위해 suspense 로 묶어준다.

- 컴포넌트 사전 로딩
  - 지연 로딩의 단점 : 모달을 띄울 때 네트워크를 통해 모달 코드를 새로 완료해야 하기 때문에 모달이 뜨기 전까지 약간의 지연이 발생. -> 사전로딩으로 해결 가능
  - 사전 로딩 타이밍 : 예) 버튼을 클릭하기 위해서는 마우스를 올려두어야 한다. 따라서 마우스가 올라오면 미리 모달 컴포넌트를 로딩.
